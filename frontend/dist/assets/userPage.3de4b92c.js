import{_ as a,D as e,T as t,U as o}from"./index.ff353531.js";import{m as s,J as n,K as r,M as d,L as c,D as i,e as l,I as u,G as p}from"./vendor.a945b803.js";const g=s({name:"Account",components:{Section:a},setup:()=>{},props:{prop_accountData:{type:Object,required:!0}},data:()=>({dataObj:null,data_isLoading:!0,userData:{_id:{$oid:"60846e05de5acd392cd11aa8"},nickName:"Steve",oauthAccounts:{google:{registered:!0,email:"steve.leng@gmail.com",picture:"https://lh3.googleusercontent.com/a-/AOh14GhJw9Xlcwt5u4Gl6PnA0ocd0XO6sSJB3mASxXBTl9I=s96-c",name:"Steve Leng"},facebook:{registered:!1}},friends:[],villagers:[],hasSetPassword:!1,list:[],following:[],followers:[],profilePic:"/src/assets/img/characters/Blathers.png",coverPhoto:"/src/assets/img/background/coverPhoto.jpg",role:"user",email:"steve.leng@gmail.com",createdAt:{$date:"2021-04-24T19:14:13.644Z"},updatedAt:{$date:"2021-04-24T19:14:13.644Z"},__v:0}}),computed:{computed_coverImagedStyle(){return{backgroundImage:`url(${this.prop_accountData.coverPhoto})`,backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"}}},watch:{},created(){},mounted(){},unmounted(){},methods:{}}),m=u();n("data-v-20829c64");const _={class:"headerContainer"},h={class:"profile-img"},v=l("div",{class:"header-bg blank"},null,-1),f=l("div",{class:"accountDetailContainer"},null,-1);r();const D=m(((a,e,t,o,s,n)=>{const r=d("Section");return c(),i(r,{props_title:a.prop_accountData.nickName,props_subtitle:""},{default:m((()=>[l("div",null,[l("div",_,[l("div",{class:"header-bg",style:a.computed_coverImagedStyle},null,4),l("div",h,[l("img",{src:a.prop_accountData.profilePic,alt:"",srcset:""},null,8,["src"])]),v]),f])])),_:1},8,["props_title"])}));g.render=D,g.__scopeId="data-v-20829c64";const b=s({name:"Preloader",components:{},setup:()=>{},props:{prop_isLoading:{type:Boolean,default:!0}},data:()=>({dataObj:null}),computed:{},watch:{},created(){},mounted(){},unmounted(){},methods:{}}),L=u();n("data-v-66e332f4");const S={key:0,class:"loadingContainer"},k={class:"loadingContainer__background"},A=l("p",{class:"loadingText"},"Loading ",-1);r();const P=L(((a,e,t,o,s,n)=>{const r=d("van-loading");return a.prop_isLoading?(c(),i("div",S,[l("div",k,[a.prop_isLoading?(c(),i(r,{key:0,class:"loader",color:"#dfdfdf",size:"48px",vertical:"",type:"spinner"},{default:L((()=>[A])),_:1})):p("",!0)])])):p("",!0)}));b.render=P,b.__scopeId="data-v-66e332f4";const T=s({name:"userPage",components:{SectionComponent:a,Account:g,Preloader:b},data:()=>({data_isLoadingUserData:!0,userData:null}),computed:{},watch:{},created(){},beforeMount(){console.log("this.data_isLoadingUserData:",this.data_isLoadingUserData),e.get("http://159.65.10.92:81/api/me",{headers:{CLIENT_REQ:"Vue.js-fetch data from ME router"}}).then((a=>{const e=a.data;e&&e[0]||t.error("無法取得使用者資料，請重新登入"),this.$store.dispatch(`user/${o.SET_DATA_OF_CURRENT_USER}`,e[0]),this.userData=e[0],console.log("this.userData:",this.userData),setTimeout((()=>{this.data_isLoadingUserData=!1}),500)})).catch((a=>{console.log("無法登入",a.response),this.$store.dispatch(`user/${o.SET_DATA_OF_CURRENT_USER}`,null),location.assign("/auth")}))},mounted(){},beforeUnmount(){},methods:{}}),U=u();n("data-v-6b93ed8e");const y={class:"userPageContainer"},C={key:0,class:"preloader"};r();const E=U(((a,e,t,o,s,n)=>{const r=d("Preloader"),u=d("Account");return c(),i("div",y,[a.data_isLoadingUserData?(c(),i("div",C,[l(r,{prop_isLoading:a.data_isLoadingUserData},null,8,["prop_isLoading"])])):p("",!0),a.data_isLoadingUserData?p("",!0):(c(),i(u,{key:1,prop_accountData:a.userData},null,8,["prop_accountData"]))])}));T.render=E,T.__scopeId="data-v-6b93ed8e";export default T;
